<!DOCTYPE html
  PUBLIC "html" "html">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>CP2K_INPUT / GLOBAL / FM_DIAG_SETTINGS</title>
      <meta name="language" content="en">
      <meta name="copyright" content="2000 - 2019 CP2K developers group">
      <meta name="description" content="This section defines a set of heuristic rules which are used to calculate the optimal number of CPUs, M, needed to diagonalize a full matrix distributed on N processors (FM type). If M &amp;lt N, the matrix is redistributed onto M processors before it is diagonalized. The optimal value is calculate according to M = ((K+a*x-1)/(a*x))*a, where K is the size of the matrix, and {a, x} are integers defined below. The default values have been selected based on timings on a Cray XE6. Supports diagonalization libraries SL and ELPA (see keyword ELPA_FORCE_REDISTRIBUTE).">
      <meta name="keywords" content="scientific,computing,chemistry,physics,documentation,help,manual,Fortran,parallel,molecular dynamics,MD,density functional theory,DFT,electronic structure,linear scaling,force field,Quickstep,GPW,GAPW,FIST,QM,MM">
      <link rel="shortcut icon" href="../../favicon.png" type="image/png">
      <style type="text/css">
  a {text-decoration: none;}
  body {background-color: #ffffff;}
  code.upper {text-transform: uppercase;}
  li {margin-left: 0em; padding-left: 0em; text-indent: 0em;}
  p.uctt {font-family: monospace; text-transform: uppercase;}
  table.default {table-layout: fixed; width: 100%;}
  td.l {width: 25%;}
  td.r {width: 75%;}
  ul.circle {list-style-type: circle;}
  ul.disc {list-style-type: disc;}
  ul.index {list-style-type: none; margin-left: 0em; padding-left: 1.8em; text-indent: 0em;}
  ul.none {list-style-type: none;}
  ul.noscript {list-style-type: disc;}
  ul.square {list-style-type: square;}
  .button {font-family: monospace; font-size: 100%; cursor: pointer;}
  #html_table
  {
   border: 1px solid #000000;
   border-collapse: collapse;
   margin-left: 25px;
   padding: 6px;
   text-align: left;
   vertical-align: middle;
  }
 </style><noscript>
         <style>
   ul.index {list-style-type: disc; margin-left: 0px; padding-left: 1.8em; text-indent: 0px}
   ul.noscript {display: none}
  </style></noscript><script language="javascript" type="text/javascript" src="../../toggle_folding.js"></script></head>
   <body>
      <table class="default" summary="header">
         <tr>
            <td align="left">
               Back to the <a href="../../index.html">main page</a> of this manual
               </td>
            <td align="center">
               Input reference of CP2K version 7.0</td>
            <td align="right">
               <form method="get" action="https://www.google.com/search"><input type="text" name="q" maxlength="255"><input type="submit" value="Search this manual (Google)"><input type="hidden" name="domains" value="https://manual.cp2k.org/trunk/"><input type="radio" style="visibility:hidden" name="sitesearch" value="https://manual.cp2k.org/trunk/" checked></form>
            </td>
         </tr>
      </table>
      <hr>
      <h2><a href="../../index.html#CP2K_INPUT/GLOBAL/FM_DIAG_SETTINGS.html">Section FM_DIAG_SETTINGS</a></h2>
      <ul class="none">
         <li><em>This section defines a set of heuristic rules which are used to calculate the optimal number of CPUs, M, needed to diagonalize a full matrix distributed on N processors (FM type). If M &lt N, the matrix is redistributed onto M processors before it is diagonalized. The optimal value is calculate according to M = ((K+a*x-1)/(a*x))*a, where K is the size of the matrix, and {a, x} are integers defined below. The default values have been selected based on timings on a Cray XE6. Supports diagonalization libraries SL and ELPA (see keyword ELPA_FORCE_REDISTRIBUTE).</em></li>
      </ul>
      <ul class="none">
         <li>
            Section path:
            <code class="upper"><a href="../../CP2K_INPUT.html">CP2K_INPUT</a> /
               <a href="../GLOBAL.html">GLOBAL</a> /
               <a href="FM_DIAG_SETTINGS.html">FM_DIAG_SETTINGS</a></code></li>
      </ul>
      <ul class="none">
         <li>
            This section cannot be repeated.
            </li>
      </ul>
      <ul class="none">
         <li>
            <h3>Subsections</h3>
            <ul class="disc">
               <li>
                  none
                  </li>
            </ul>
         </li>
      </ul>
      <ul class="none">
         <li>
            <h3>Keywords</h3>
            <ul class="disc">
               <li><a href="#ELPA_FORCE_REDISTRIBUTE" id="list_ELPA_FORCE_REDISTRIBUTE">ELPA_FORCE_REDISTRIBUTE</a></li>
               <li><a href="#PARAMETER_A" id="list_PARAMETER_A">PARAMETER_A</a></li>
               <li><a href="#PARAMETER_X" id="list_PARAMETER_X">PARAMETER_X</a></li>
               <li><a href="#PRINT_FM_REDISTRIBUTE" id="list_PRINT_FM_REDISTRIBUTE">PRINT_FM_REDISTRIBUTE</a></li>
            </ul>
         </li>
      </ul>
      <ul class="none">
         <li>
            <h3>Keyword descriptions</h3>
            <table class="default" summary="keyword_description">
               <tr>
                  <td class="l">
                     <ul class="disc">
                        <li><a id="desc_ELPA_FORCE_REDISTRIBUTE"></a><a href="#list_ELPA_FORCE_REDISTRIBUTE" id="ELPA_FORCE_REDISTRIBUTE">ELPA_FORCE_REDISTRIBUTE</a></li>
                     </ul>
                  </td>
                  <td class="r"></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r"><code class="upper">ELPA_FORCE_REDISTRIBUTE</code><code>&nbsp;{Logical}</code></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r"><em>Controls how to perform redistribution when ELPA is used for diagonalization. By default, matrices are redistributed only to prevent crashes in the ELPA library which happen when the original matrix is distributed on too many processors. By turning on this keyword, redistribution is always performed using the defined rules.</em></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     This keyword cannot be repeated
                     and it expects
                     
                     precisely one logical.
                     </td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     The lone keyword behaves as a switch to
                     <code class="upper">.TRUE.</code></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     Default value:
                     <code class="upper">.FALSE.</code></td>
               </tr>
            </table>
            <table class="default" summary="keyword_description">
               <tr>
                  <td class="l">
                     <ul class="disc">
                        <li><a id="desc_PARAMETER_A"></a><a href="#list_PARAMETER_A" id="PARAMETER_A">PARAMETER_A</a></li>
                     </ul>
                  </td>
                  <td class="r"></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r"><code class="upper">PARAMETER_A</code><code>&nbsp;{Integer}</code></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r"><em>Parameter used for defining the rule which determines the optimal number of CPUs needed to diagonalize a full distributed matrix. The optimal number of CPUs will be an integer multiple of this variable.</em></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     This keyword cannot be repeated
                     and it expects
                     
                     precisely one integer.
                     </td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     Default value:
                     <code class="upper">4</code></td>
               </tr>
            </table>
            <table class="default" summary="keyword_description">
               <tr>
                  <td class="l">
                     <ul class="disc">
                        <li><a id="desc_PARAMETER_X"></a><a href="#list_PARAMETER_X" id="PARAMETER_X">PARAMETER_X</a></li>
                     </ul>
                  </td>
                  <td class="r"></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r"><code class="upper">PARAMETER_X</code><code>&nbsp;{Integer}</code></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r"><em>Parameter used for defining the rule which determines the optimal number of CPUs needed to diagonalize a full distributed matrix. The optimal number of CPUs will be roughly proportional to this value.</em></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     This keyword cannot be repeated
                     and it expects
                     
                     precisely one integer.
                     </td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     Default value:
                     <code class="upper">60</code></td>
               </tr>
            </table>
            <table class="default" summary="keyword_description">
               <tr>
                  <td class="l">
                     <ul class="disc">
                        <li><a id="desc_PRINT_FM_REDISTRIBUTE"></a><a href="#list_PRINT_FM_REDISTRIBUTE" id="PRINT_FM_REDISTRIBUTE">PRINT_FM_REDISTRIBUTE</a></li>
                     </ul>
                  </td>
                  <td class="r"></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r"><code class="upper">PRINT_FM_REDISTRIBUTE</code><code>&nbsp;{Logical}</code></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r"><em>Controls printing of information related to this section. For each diagonalized matrix, prints the size of the matrix, the optimal number of CPUs, as well as notifies if the matrix was redistributed. Useful for testing.</em></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     This keyword cannot be repeated
                     and it expects
                     
                     precisely one logical.
                     </td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     The lone keyword behaves as a switch to
                     <code class="upper">.TRUE.</code></td>
               </tr>
               <tr>
                  <td class="l"></td>
                  <td class="r">
                     Default value:
                     <code class="upper">.FALSE.</code></td>
               </tr>
            </table>
         </li>
      </ul>
      <hr>
      <table class="default" summary="footer">
         <tr>
            <td align="left">
               Back to the <a href="../../index.html">main page</a> of this manual or the <a href="https://www.cp2k.org">CP2K home page</a></td>
            <td align="right">
               (Last update:
               2.9.2019)
               </td>
         </tr>
      </table>
   </body>
</html>